---
import NavBar from "./NavBar.astro";
---

<header class="hero-navbar">
  <NavBar position="top" />
</header>
<!-- Custom script -->
<script type="text/javascript" defer async is:inline>
  const NAVBAR_SHOWUP_BREAKPOINT = 1024;
  function hideHeroNavBar() {
    document.querySelector(".hero-navbar").style.display = "none";
  }

  function showHeroNavBar() {
    document.querySelector(".hero-navbar").style.display = "inline-flex";
  }

  function showLeftNavBar() {
    document.querySelector(".left-navbar").style.display = "inline-flex";
    document.querySelector(".rightbar").style.display = "inline-flex";
  }

  function hideLeftNavBar() {
    document.querySelector(".left-navbar").style.display = "none";
    document.querySelector(".rightbar").style.display = "none";
  }
  if (!window.location.pathname.match("/")) {
    if (window.screen.width > NAVBAR_SHOWUP_BREAKPOINT) {
      showHeroNavBar();
      hideLeftNavBar();
    } else {
      hideHeroNavBar();
      showLeftNavBar();
    }
  } else {
    if (window.location.pathname === "/") {
      if (window.screen.width > NAVBAR_SHOWUP_BREAKPOINT) {
        const halfWindowSize = window.innerHeight / 2;
        var prevScrollpos = window.scrollY;

        window.onscroll = function () {
          var currentScrollPos = window.scrollY;
          if (prevScrollpos > currentScrollPos) {
            if (currentScrollPos < halfWindowSize) {
              showHeroNavBar();
              hideLeftNavBar();
            }
          } else {
            if (currentScrollPos > halfWindowSize) {
              hideHeroNavBar();
              showLeftNavBar();
            }
          }
          prevScrollpos = currentScrollPos;
        };
      }
    } else {
      if (window.screen.width > NAVBAR_SHOWUP_BREAKPOINT) {
        hideHeroNavBar();
      }
    }
  }
</script>
<style>
  header {
    width: 100%;
    z-index: 1;
    display: inline-flex;
    align-items: center;
  }
  @media only screen and (min-device-width: 320px) and (max-device-width: 1024px) {
  }

  @media only screen and (min-device-width: 769px) and (max-device-width: 1024px) {
  }

  /* Desktops and laptops ----------- */
  @media only screen and (min-device-width: 1025px) {
  }
</style>
